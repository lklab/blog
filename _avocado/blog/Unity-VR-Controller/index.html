<!DOCTYPE html>
<html lang="en" class="position-relative">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Prefetch DNS for faster page speed -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//google-analytics.com" />
    <link rel="dns-prefetch" href="//www.google-analytics.com" />
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com" />
    <link rel="dns-prefetch" href="//ajax.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />
    
    <!-- Prefetch disqus DNS for faster page speed -->
    <link rel="dns-prefetch" href="https://lklab-github-io-blog.disqus.com/" />
      <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Unity로 VR 캐릭터 컨트롤하는 앱 개발하기 | Avopado</title>
<meta name="generator" content="Jekyll v3.8.4" />
<meta property="og:title" content="Unity로 VR 캐릭터 컨트롤하는 앱 개발하기" />
<meta name="author" content="khlee" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="소개" />
<meta property="og:description" content="소개" />
<link rel="canonical" href="http://localhost:4000/blog/Unity-VR-Controller/" />
<meta property="og:url" content="http://localhost:4000/blog/Unity-VR-Controller/" />
<meta property="og:site_name" content="Avopado" />
<meta property="og:image" content="http://localhost:4000/assets/post/17-10-25-Unity-VR-Controller/unity_vr_controller.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-10-25T00:00:00+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/post/17-10-25-Unity-VR-Controller/unity_vr_controller.jpg" />
<meta property="twitter:title" content="Unity로 VR 캐릭터 컨트롤하는 앱 개발하기" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"khlee"},"dateModified":"2017-10-25T00:00:00+09:00","datePublished":"2017-10-25T00:00:00+09:00","description":"소개","headline":"Unity로 VR 캐릭터 컨트롤하는 앱 개발하기","image":"http://localhost:4000/assets/post/17-10-25-Unity-VR-Controller/unity_vr_controller.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/Unity-VR-Controller/"},"url":"http://localhost:4000/blog/Unity-VR-Controller/"}</script>
<!-- End Jekyll SEO tag -->
 

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/assets/css/main.css" />

    <!-- Fontawesome Icons CSS -->
    <link
      rel="stylesheet"
      href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Replace these icons with your own. -->

    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/assets/img/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/assets/img/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/assets/img/apple-icon-152x152.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/assets/img/android-icon-192x192.png"
    />
    <link
      rel="shortcut icon"
      href="/favicon.ico"
      type="image/x-icon"
    />
    <link
      rel="icon"
      href="/favicon.ico"
      type="image/x-icon"
    />

    

    <!-- Google Analytics code. <head> tag is the right place for analytics code as directed by Google. This is unofficial light version which loads blazing fast! Implemented for faster page load.  -->
    <script src="https://cdn.jsdelivr.net/npm/ga-lite@1/dist/ga-lite.min.js" async></script>
<script>
var galite = galite || {};
galite.UA = 'G-LYHC56N0SX'; 
</script>  
    <script
      async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"
    ></script>
     
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
    
    <noscript>
      <style>
        .loader {
          display: none;
        }
        .dropdown-menu {
          display: block;
        }
        .rev {
          visibility: visible;
        }
        .owl-carousel {
          display: flex;
        }
        .owl-carousel.carousel-1 {
          display: block;
        }
      </style>
    </noscript>
  </head>

  <body>
    <noscript
      ><div
        class="bg-danger text-white text-center position-absolute"
        style="z-index: 9999999; left: 0; right: 0; top: 0"
      >
        Please enable JavaScript for full functionality.
      </div></noscript
    >
    <div class="loader">
      <div class="lds-ring">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <div id="top" class="wrapper">
      <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-white">
  <div class="container">
    <a class="navbar-brand" href="/">
      <img
        src="/assets/img/apple-icon-60x60.png"
        class="d-inline-block align-top logo"
        alt="Avopado"
      />
      Avopado
    </a>
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarNavAltMarkup"
      aria-controls="navbarNavAltMarkup"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav ml-auto">
         
        <a
          class="nav-item nav-link "
          href="/"
          >Home</a
        >
          
        <a
          class="nav-item nav-link "
          href="/blog/"
          >Blog</a
        >
          
        <a
          class="nav-item nav-link "
          href="/categories/"
          >Categories</a
        >
         
      </div>
    </div>
  </div>
</nav>



      <div class="content-wrapper"><!--                            
This layout is used for posts. Changing anything here will affect all posts(not pages)
 -->

<div class="post">
  <main>
    <header class="position-relative text-center rev">
      <div class="header-image" style="background-image: url(/assets/post/17-10-25-Unity-VR-Controller/unity_vr_controller.jpg)"></div>
      <h1 class="post-title position-absolute">Unity로 VR 캐릭터 컨트롤하는 앱 개발하기</h1>
    </header>
    <div class="container">
      <div class="blog-content pd">
        <div class="row">
          <div class="col-md-12">
            
<ul class="breadcrumbs rev">
	<li><a href="/">Home</a></li>
	
	
	<li><a href="/blog/">Blog</a></li>
	
	
	
	<li><a href="#">Unity로 VR 캐릭터 컨트롤...</a></li>
	
	
</ul>

          </div>
        </div>

        <div class="row">
          <div class="col-md-12 meta">
            <p><small>
                <span>
                  <i class="fa fa-calendar" aria-hidden="true"></i> 25 Oct 2017&nbsp;
                </span>
                <span>
                  <i class="fa fa-user" aria-hidden="true"></i> Khlee&nbsp;
                </span>
                <span>
                  <i class="fa fa-clock-o" aria-hidden="true"></i> 5 mins read.
                </span>
              </small></p>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">

            <article>
              
<ul class="toc rev clearfix">
  <li><a href="#소개">소개</a></li>
  <li><a href="#준비">준비</a></li>
  <li><a href="#씬-수정">씬 수정</a></li>
  <li><a href="#스크립트-작성">스크립트 작성</a></li>
  <li><a href="#플레이-영상">플레이 영상</a></li>
</ul>


              <h2 id="소개">소개</h2>

<p>이번엔 <a href="https://lklab.github.io/blog/blog/Unity-VR-Support/">지난 글</a>과 <a href="https://lklab.github.io/blog/blog/Unity-Bluetooth-Controller/">저번 글</a>의 내용을 합쳐서 Bluetooth Controller를 통해 1인칭 캐릭터를 컨트롤할 수 있는 VR앱을 만들 것이다.</p>

<h2 id="준비">준비</h2>

<p>Assets Store에서 <a href="https://www.assetstore.unity3d.com/kr/#!/content/15">괜찮은 프로젝트</a>를 받아온다.<br />
- 2018년 11월 현재 위 프로젝트는 서비스되지 않아서 받아올 수 없다.</p>

<p><img src="/blog/assets/post/17-10-25-Unity-VR-Controller/20171024_224745.png" alt="sample project" /></p>

<h2 id="씬-수정">씬 수정</h2>

<p>필요없는 부분은 다 지우고 먼저 1인칭 캐릭터 역할을 할 GameObject를 적당한 위치에 적당한 크기로 하나 만든다.</p>

<p><img src="/blog/assets/post/17-10-25-Unity-VR-Controller/20171026_001652.png" alt="scene view" /></p>

<p><img src="/blog/assets/post/17-10-25-Unity-VR-Controller/20171026_001706.png" alt="inspector" /></p>

<p>벽과 바닥을 뚫고 다니면 안 되니까 Capsule Collider를 추가하고 물리엔진과 상호작용(중력이라던가 다른 물체와 충돌이라던가)을 할 수 있도록 Rigidbody를 추가한다. 중요한게 Rigidbody에서 Constraints안에 Freeze Rotation의 모든 축을 체크해야 한다. 물리엔진에 의해 캐릭터가 회전하지 않도록 제약을 걸어 두는 것으로, 이렇게 하지 않으면 Capsule Collider의 곡면 때문에 캐릭터가 자기 맘대로 막 굴러다닌다.</p>

<p>그 다음엔 캐릭터 GameObject의 하위 Object로 포함되도록 Camera를 추가한다.</p>

<p><img src="/blog/assets/post/17-10-25-Unity-VR-Controller/20171026_003124.png" alt="scene view" /></p>

<p><img src="/blog/assets/post/17-10-25-Unity-VR-Controller/20171026_003150.png" alt="inspector" /></p>

<p>카메라의 위치는 적당히 잡아주면 된다. 단, X와 Z 좌표는 0으로 해 두는 것이 좋다.</p>

<h2 id="스크립트-작성">스크립트 작성</h2>

<p>이제 스크립트를 하나 추가한다.</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System.Collections</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

<span class="p">[</span><span class="nf">RequireComponent</span> <span class="p">(</span><span class="k">typeof</span> <span class="p">(</span><span class="n">Rigidbody</span><span class="p">))]</span>
<span class="p">[</span><span class="nf">RequireComponent</span> <span class="p">(</span><span class="k">typeof</span> <span class="p">(</span><span class="n">CapsuleCollider</span><span class="p">))]</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">BlueControlManager</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="n">GameObject</span> <span class="n">cameraObject</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">Rigidbody</span> <span class="n">CharacterRigidbody</span><span class="p">;</span>

    <span class="k">private</span> <span class="kt">bool</span> <span class="n">jumpPushed</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

    <span class="c1">// contants</span>
    <span class="k">private</span> <span class="kt">float</span> <span class="n">speed</span> <span class="p">=</span> <span class="m">2.2f</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">float</span> <span class="n">gravity</span> <span class="p">=</span> <span class="m">10.0f</span><span class="p">;</span>
    <span class="k">private</span> <span class="kt">bool</span> <span class="n">grounded</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

    <span class="k">private</span> <span class="kt">float</span> <span class="n">maxVelocityChange</span> <span class="p">=</span> <span class="m">1.5f</span><span class="p">;</span>

    <span class="k">private</span> <span class="kt">float</span> <span class="n">jumpHeight</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
    <span class="k">private</span> <span class="n">Vector3</span> <span class="n">jumpVelocity</span><span class="p">;</span>

    <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">cameraObject</span> <span class="p">=</span> <span class="n">GameObject</span><span class="p">.</span><span class="nf">Find</span><span class="p">(</span><span class="s">"Camera"</span><span class="p">);</span>
        <span class="n">CharacterRigidbody</span> <span class="p">=</span> <span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">Rigidbody</span><span class="p">&gt;();</span>

        <span class="c1">// From the jump height and gravity we deduce the upwards speed </span>
        <span class="c1">// for the character to reach at the apex.</span>
        <span class="n">jumpVelocity</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Sqrt</span><span class="p">(</span><span class="m">2</span> <span class="p">*</span> <span class="n">jumpHeight</span> <span class="p">*</span> <span class="n">gravity</span><span class="p">),</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
 
    <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="nf">GetKeyDown</span><span class="p">(</span><span class="n">KeyCode</span><span class="p">.</span><span class="n">JoystickButton0</span><span class="p">))</span>
            <span class="n">jumpPushed</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">void</span> <span class="nf">FixedUpdate</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">grounded</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// get joystick data</span>
            <span class="n">Vector2</span> <span class="n">joystickPosition</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector2</span><span class="p">();</span>
            <span class="n">joystickPosition</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Horizontal"</span><span class="p">);</span>
            <span class="n">joystickPosition</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">Input</span><span class="p">.</span><span class="nf">GetAxis</span><span class="p">(</span><span class="s">"Vertical"</span><span class="p">);</span>
            <span class="n">joystickPosition</span> <span class="p">=</span> <span class="n">joystickPosition</span><span class="p">.</span><span class="n">normalized</span><span class="p">;</span>

            <span class="c1">// Calculate how fast we should be moving</span>
            <span class="n">Vector3</span> <span class="n">targetVelocity</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
            <span class="n">Vector3</span> <span class="n">forward</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
            <span class="n">Vector3</span> <span class="n">right</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>

            <span class="n">forward</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">cameraObject</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
            <span class="n">forward</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">cameraObject</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">forward</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
            <span class="n">right</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">cameraObject</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
            <span class="n">right</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">cameraObject</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">z</span><span class="p">;</span>
            <span class="n">forward</span> <span class="p">=</span> <span class="n">forward</span><span class="p">.</span><span class="n">normalized</span><span class="p">;</span>
            <span class="n">right</span> <span class="p">=</span> <span class="n">right</span><span class="p">.</span><span class="n">normalized</span><span class="p">;</span>
            <span class="n">targetVelocity</span> <span class="p">=</span> <span class="n">forward</span> <span class="p">*</span> <span class="n">joystickPosition</span><span class="p">.</span><span class="n">y</span> <span class="p">+</span> <span class="n">right</span> <span class="p">*</span> <span class="n">joystickPosition</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
            <span class="n">targetVelocity</span> <span class="p">*=</span> <span class="n">speed</span><span class="p">;</span>

            <span class="c1">// Apply a force that attempts to reach our target velocity</span>
            <span class="n">Vector3</span> <span class="n">velocity</span> <span class="p">=</span> <span class="n">CharacterRigidbody</span><span class="p">.</span><span class="n">velocity</span><span class="p">;</span>
            <span class="n">Vector3</span> <span class="n">velocityChange</span> <span class="p">=</span> <span class="p">(</span><span class="n">targetVelocity</span> <span class="p">-</span> <span class="n">velocity</span><span class="p">);</span>
            <span class="n">velocityChange</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="n">velocityChange</span><span class="p">.</span><span class="n">x</span><span class="p">,</span>
                <span class="p">-</span><span class="n">maxVelocityChange</span><span class="p">,</span> <span class="n">maxVelocityChange</span><span class="p">);</span>
            <span class="n">velocityChange</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp</span><span class="p">(</span><span class="n">velocityChange</span><span class="p">.</span><span class="n">z</span><span class="p">,</span>
                <span class="p">-</span><span class="n">maxVelocityChange</span><span class="p">,</span> <span class="n">maxVelocityChange</span><span class="p">);</span>
            <span class="n">velocityChange</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
            <span class="n">CharacterRigidbody</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(</span><span class="n">velocityChange</span><span class="p">,</span> <span class="n">ForceMode</span><span class="p">.</span><span class="n">VelocityChange</span><span class="p">);</span>

            <span class="c1">// Jump</span>
            <span class="k">if</span><span class="p">(</span><span class="n">jumpPushed</span><span class="p">)</span>
                <span class="n">CharacterRigidbody</span><span class="p">.</span><span class="nf">AddForce</span><span class="p">(</span><span class="n">jumpVelocity</span><span class="p">,</span> <span class="n">ForceMode</span><span class="p">.</span><span class="n">VelocityChange</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">grounded</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">jumpPushed</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
    <span class="p">}</span>
 
    <span class="k">void</span> <span class="nf">OnCollisionStay</span><span class="p">(</span><span class="n">Collision</span> <span class="n">collisionInfo</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">foreach</span><span class="p">(</span><span class="n">ContactPoint</span> <span class="n">contact</span> <span class="k">in</span> <span class="n">collisionInfo</span><span class="p">.</span><span class="n">contacts</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">contact</span><span class="p">.</span><span class="n">normal</span><span class="p">.</span><span class="n">y</span> <span class="p">&gt;</span> <span class="m">0.7f</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">grounded</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>주요 특징</p>

<ol>
  <li>
    <p>UI 처리는 <code class="highlighter-rouge">Update()</code> 함수에서, 물리적 처리는 <code class="highlighter-rouge">FixedUpdate()</code> 함수에서 한다.<br />
<code class="highlighter-rouge">Update()</code> 함수는 프레임마다 한 번 호출되며, 초당 프레임의 변화에 따라 호출 주기가 달라지는 반면 <code class="highlighter-rouge">FixedUpdate()</code> 함수는 호출 주기가 일정하다. <code class="highlighter-rouge">Input.GetKeyDown()</code> 함수는 버튼이 눌린 시점의 프레임에서만 true를 반환한다. 따라서 <code class="highlighter-rouge">FixedUpdate()</code> 함수에서 <code class="highlighter-rouge">Input.GetKeyDown()</code> 함수로 값을 읽어오는 경우 프레임 타이밍에 따라 버튼을 눌러도 <code class="highlighter-rouge">true</code>값을 읽지 못할 수도 있다. 반면에 물리적 처리는 호출 주기가 일정한 <code class="highlighter-rouge">FixedUpdate()</code> 함수에서 처리해야 자연스럽게 동작하며 그렇지 않고 <code class="highlighter-rouge">Update()</code> 함수에서 처리할 경우 초당 프레임 변화에 따라 다르게 동작할 것이다.</p>
  </li>
  <li>
    <p>캐릭터를 움직일 때는 <code class="highlighter-rouge">rigidbody</code>의 <code class="highlighter-rouge">AddForce()</code> 함수 사용<br />
캐릭터를 움직이는 방법, 즉 캐릭터의 위치를 바꾸는 방법은 위치 자체를 바꾸는 방법, 속도를 바꾸는 방법, 힘(가속도)를 주는 방법의 세 가지가 있다. 위치 자체를 바꾸는 것은 캐릭터가 순간이동하는 것으로 구현될 것이며, 속도를 바꾸거나 힘을 주어야 위치가 연속적으로 변할 것이다. 힘을 주는 방법이 위치와 속도가 연속적으로 변하는 것이므로 가장 자연스럽게 동작할 것이다.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">grounded</code> (캐릭터가 땅을 밟고 서 있는지) 판단 조건<br />
캐릭터의 Collider가 다른 Collider와 접촉할 때 호출되는 <code class="highlighter-rouge">OnCollisionStay()</code> 함수에서 항상 <code class="highlighter-rouge">grounded</code>를 <code class="highlighter-rouge">true</code>로 바꾸도록 하면 벽과 접촉할 때에도 땅을 밟고 있다고 판단하여 벽타기가 가능하다. 따라서 <code class="highlighter-rouge">OnCollisionStay()</code> 함수의 인자로 주어지는 Collision 정보 내에서 다른 Collider와 접촉한 방향이 옆쪽이 아닌 아래쪽 방향이 있는 경우에만 땅을 밟고 있다고 판단하게 한다.</p>
  </li>
</ol>

<h2 id="플레이-영상">플레이 영상</h2>

<iframe class="video" src="https://www.youtube.com/embed/6hyWDXpkXFM" allowfullscreen="" frameborder="0"></iframe>

            </article>
            
            <div class="row">
  <div class="col-md-12">
    <p class="categories rev"> <span><a
          href="/categories/#unity">Unity</a></span></p>
  </div>
</div>
            


            
            
<div class="author rev">
	<div class="row">
		<div class="col-md-3">
			<img class="author-image" src="/assets/images/avocado-cover.png" alt="khlee">
		</div>
		<div class="col-md-9">
			<h5>khlee</h5>
			<p></p>
			<ul>
				
				<li><a target="_blank" href="https://github.com/lklab"><i class="fa fa-github"
							aria-hidden="true"></i></a></li>
				
				
				<li><a target="_blank" href="https://www.linkedin.com/in/kyeonghyeon-lee-6a3330132"><i class="fa fa-linkedin-square"
							aria-hidden="true"></i></a></li>
				
				
				
				
			</ul>
		</div>
	</div>
</div>

            

            
            <div id="disqus_thread"></div>
<script defer>
  (function () {
    var d = document, s = d.createElement('script');
    s.src = '//lklab-github-io-blog.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the comments</noscript>
            

            <div class="recent">
	<div class="row">
		<div class="col-md-12">
			<h3>Recent Articles</h3>
		</div>
	</div>
	<div class="row">
		
		
		<div class="col-md-3 rev">
			<a class="nostyle item" href="/blog/Object_and_memory/">
				<div class="cards">
					<div class="image" style="background-image: url(/assets/post/18-07-04-Object_and_memory/title.jpeg)"></div>
					<p class="title"><small>JNI 객체 사용과 메모리 관리</small></p>
				</div>
			</a>
		</div>
		
		
		
		<div class="col-md-3 rev">
			<a class="nostyle item" href="/blog/JNI/">
				<div class="cards">
					<div class="image" style="background-image: url(/assets/post/18-06-22-JNI/title.jpeg)"></div>
					<p class="title"><small>JNI로 C와 Java 연동하기</small></p>
				</div>
			</a>
		</div>
		
		
		
		<div class="col-md-3 rev">
			<a class="nostyle item" href="/blog/Font-Display/">
				<div class="cards">
					<div class="image" style="background-image: url(/assets/post/18-05-03-Font-Display/oled.jpg)"></div>
					<p class="title"><small>임베디드 환경에서 폰트 출력하기</small></p>
				</div>
			</a>
		</div>
		
		
		
		<div class="col-md-3 rev">
			<a class="nostyle item" href="/blog/IgH-EtherCAT/">
				<div class="cards">
					<div class="image" style="background-image: url(/assets/post/18-02-14-IgH-EtherCAT/ethercat.jpg)"></div>
					<p class="title"><small>IgH EtherCAT Master Stack API 분석</small></p>
				</div>
			</a>
		</div>
		
		
	</div>
</div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div></div>

      <a href="#top" class="scrollup"
        ><i class="fa fa-long-arrow-up" aria-hidden="true"></i
      ></a>
      <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <div class="logo-box">
          <img width="30" src="/assets/images/avocado-transparent-small.png"
            alt="Avopado" />
          <h3>Avopado</h3>
          <p></p>
        </div>
      </div>
      <div class="col-md-2">
        <h3>Pages</h3>
        <ul>
          
          <li><a href="/">Home</a></li>
          
          <li><a href="/blog/">Blog</a></li>
          
          <li><a href="/categories/">Categories</a></li>
          
        </ul>
      </div>
      <div class="col-md-3">
        <h3>Latest Posts</h3>
        <ul>
          
          <li><a href="/blog/Object_and_memory/">JNI 객체 사용과 메모리 관리</a></li>
          
          <li><a href="/blog/JNI/">JNI로 C와 Java 연동하기</a></li>
          
          <li><a href="/blog/Font-Display/">임베디드 환경에서 폰트 출력하기</a></li>
          
          <li><a href="/blog/IgH-EtherCAT/">IgH EtherCAT Master Stack API 분석</a></li>
          
        </ul>
      </div>
      <div class="col-md-3">
        <h3>Contact</h3>
        <p>Email:<a href="mailto:khlee.avo@gmail.com"> khlee.avo@gmail.com</a></p>
        <!-- <p>Phone:<a href="tel:"> </a></p> -->
        <!--Start of Tidio.to Script-->
        <!-- <script src="//code.tidio.co/atcbwe5jq0ftiidebmmfwybic3nagfnf.js" async></script> -->
        <!--End of Tidio.to Script-->
      </div>
    </div>
  </div>
</footer>
    </div>

    <!-- JQuery  -->
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>

    <script src="/assets/js/owl.carousel.min.js"></script>

    <!-- Navbar shrink on scroll -->
    <script>
      $(window).scroll(function () {
        if ($(document).scrollTop() > 50) {
          $(".navbar").addClass("shrink");
        } else {
          $(".navbar").removeClass("shrink");
        }
      });
    </script>

    <script>
      $(document).ready(function () {
        $(window).scroll(function () {
          if ($(this).scrollTop() > 100) {
            $(".scrollup").fadeIn();
          } else {
            $(".scrollup").fadeOut();
          }
        });

        $(".scrollup").click(function () {
          $("html, body").animate(
            {
              scrollTop: 0,
            },
            600
          );
          return false;
        });
      });
    </script>

    <!-- SlideDown on click -->
    <script>
      $(document).ready(function () {
        $(".doshow").click(function () {
          var that = $(this).next(".noshow");
          $(that).slideToggle("slow");
          $(".noshow").not(that).slideUp("slow");
        });
      });
    </script>

    <!-- Hide Loader on load -->
    <script>
      $(document).ready(function () {
        $(".loader").hide();
      });
    </script>

    <!-- Reveal items on scroll -->
    <script
      type="text/javascript"
      src="/assets/js/scrollreveal.min.js"
    ></script>
    <script>
      window.sr = ScrollReveal();
      sr.reveal(".rev", {
        duration: 1000,
      });
    </script>

    
  </body>
</html>
